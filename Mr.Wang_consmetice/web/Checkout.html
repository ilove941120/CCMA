<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
        integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
    <link rel="stylesheet" href="../css/setUp.css">
    <link rel="stylesheet" href="../css/footer.css">
    <link rel="stylesheet" href="../css/header.css">
    <link rel="stylesheet" href="../css/Checkout.css">

</head>
<body>
    <!-- header 區域 -->
    <div class="headerBlock">
        <div class="header">
            <a href="../index.html" class="companyLogo">
                <img src="../img/logoBlack.png" alt="">
            </a>
            <div class="navbarBlock">
                <div class="mainNavbar">
                    <a href="../web/about.html" class="navbarItem">關於橘碼 <i class="fas fa-caret-down"></i></a>
                    <a href="../web/news.html" class="navbarItem">最新消息 <i class="fas fa-caret-down"></i></a>
                    <a href="../web/allProduct.html" class="navbarItem">全部商品 <i class="fas fa-caret-down"></i></a>
                    <a href="../web/stronghold.html" class="navbarItem">分店資訊 <i class="fas fa-caret-down"></i></a>
                    <a href="../web/contactUs.html" class="navbarItem">聯絡我們 <i class="fas fa-caret-down"></i></a>
                </div>
                <div class="otherBar">
                    <a href="../web/signIn.html" class="signIn">登入</a>
                    <div class="shoppingCarIcon">購物車</div>
                </div>
            </div>
            <div class="navbarList">
                <a href="../web/signIn.html" class="signIn">登入</a>
                <div class="shoppingCarIcon">購物車</div>
                <i class="humburger fas fa-bars"></i> 
            </div>
            <div class="navbarListItemGroup">
                <a href="../index.html" class="companyLogoRWd">
                    <img src="../img/logoWhite.png" alt="">
                </a>
                <a href="../web/about.html" class="navbarListItem">關於橘碼 <i class="fas fa-caret-down"></i></a>
                <a href="../web/news.html" class="navbarListItem">最新消息 <i class="fas fa-caret-down"></i></a>
                <a href="../web/allProduct.html" class="navbarListItem">全部商品 <i class="fas fa-caret-down"></i></a>
                <a href="../web/stronghold.html" class="navbarListItem">分店資訊 <i class="fas fa-caret-down"></i></a>
                <a href="../web/contactUs.html" class="navbarListItem">聯絡我們 <i class="fas fa-caret-down"></i></a>
                <div class="closeButton"><i class="fas fa-times"></i></div>
            </div>
            <div class="SideShoppingCarBlock">
                <div class="SideShoppingCarTitle">
                    <div class="SideShoppingName">購物車</div>
                    <div class="SideShoppingBlockClose">X</div>
                </div>
                <div class="SideShoppingCarItemGroup">
                    <div class="SideShoppingCarItem">
                        <div class="SideShoppingCarItemDelete">X</div>
                        <div class="SideShoppingCarItemImg">
                            <img src="../img/shopSide.png" alt="">
                        </div>
                        <div class="SideShoppingCarItemContent">
                            <div class="SideShoppingCarItemTitle">煥活肌膚光彩精華</div>
                            <div class="SideShoppingCarItemPrice">NT$ <span>5980</span> </div>
                            <div class="SideShoppingCarItemQuantity">
                                <div class="headerLess">-</div>
                                <div class="headerQuantity">1</div>
                                <div class="headerAdd">+</div>
                            </div>
                            <div class="SideShoppingCarItemTotalBlock">
                                <div class="SideShoppingCarItemTotal">NT$ <span>5980</span></div>
                                <div class="SideShoppingCarItemDiscount">-NT$0</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="SideShoppingCarDiscountBlock">折扣 <span>-NT$0</span> </div>
                <div class="SideShoppingCarPriceTotal">小計 <div class="headerLastTotal">NT$<span></span></div>  </div>
                <a href="../web/Checkout.html" class="SideShoppingCarSeeShoppingCar">查看購物車</a>
            </div>
        </div>
    </div>
    <!-- 頁面區域 -->
    <div class="pageContentBlock">
        <div class="pageBanner">
            <img src="../img/formBanner.png" alt="">
        </div>
        <div class="checkoutBlock">
            <div class="shoppingListBlock">
                <div class="shoppingListTitleBar">
                    <div class="shoppingListTitle">
                        <div class="shoppingListBlankArea"></div>
                        <div class="shoppingListItemName"></div>
                        <div class="shoppingListItemPrice">
                            單價
                        </div>
                        <div class="shoppingListItemQuantityBlock">
                            數量
                        </div>
                        <div class="shoppingListItemTotalBlock">
                            小計
                        </div>
                    </div>
                </div>
                <div class="shoppingListItemBLock">
                    <div class="shoppingListItem">
                        <div class="shoppingListItemDelete">X</div>
                        <div class="shoppingListItemImg">
                            <img src="../img/productShop1.png" alt="">
                        </div>
                        <div class="rwdChange">
                            <div class="shoppingListItemName">煥活肌膚光彩精華</div>
                            <div class="shoppingListItemPrice">
                                NT$<span>6980</span>
                            </div>
                            <div class="shoppingListItemQuantityBlock">
                                <div class="shoppingListItemQuantityGroup">
                                    <div class="shoppingListItemLess">-</div>
                                    <div class="shoppingListItemQuantity">1</div>
                                    <div class="shoppingListItemAdd">+</div>
                                </div>
                            </div>
                            <div class="shoppingListItemTotalBlock">
                                <div class="shoppingListItemTotal">
                                    NT$<span>6980</span>
                                </div>
                                <div class="shoppingListItemDiscount">
                                    -NT$<span>0</span>
                                </div>
                            </div>
                        </div>
                        

                    </div>
                    <div class="shoppingListItem">
                        <div class="shoppingListItemDelete">X</div>
                        <div class="shoppingListItemImg">
                            <img src="../img/productShop1.png" alt="">
                        </div>
                        <div class="rwdChange">
                            <div class="shoppingListItemName">煥活肌膚光彩精華</div>
                            <div class="shoppingListItemPrice">
                                NT$<span>6980</span>
                            </div>
                            <div class="shoppingListItemQuantityBlock">
                                <div class="shoppingListItemQuantityGroup">
                                    <div class="shoppingListItemLess">-</div>
                                    <div class="shoppingListItemQuantity">1</div>
                                    <div class="shoppingListItemAdd">+</div>
                                </div>
                            </div>
                            <div class="shoppingListItemTotalBlock">
                                <div class="shoppingListItemTotal">
                                    NT$<span>6980</span>
                                </div>
                                <div class="shoppingListItemDiscount">
                                    -NT$<span>0</span>
                                </div>
                            </div>
                        </div>
                        

                    </div>
                    <div class="shoppingListItem">
                        <div class="shoppingListItemDelete">X</div>
                        <div class="shoppingListItemImg">
                            <img src="../img/productShop1.png" alt="">
                        </div>
                        <div class="rwdChange">
                            <div class="shoppingListItemName">煥活肌膚光彩精華</div>
                            <div class="shoppingListItemPrice">
                                NT$<span>6980</span>
                            </div>
                            <div class="shoppingListItemQuantityBlock">
                                <div class="shoppingListItemQuantityGroup">
                                    <div class="shoppingListItemLess">-</div>
                                    <div class="shoppingListItemQuantity">1</div>
                                    <div class="shoppingListItemAdd">+</div>
                                </div>
                            </div>
                            <div class="shoppingListItemTotalBlock">
                                <div class="shoppingListItemTotal">
                                    NT$<span>6980</span>
                                </div>
                                <div class="shoppingListItemDiscount">
                                    -NT$<span>0</span>
                                </div>
                            </div>
                        </div>
                        

                    </div>
                    <div class="shoppingListCheckoutBlock">
                        <div class="discountBLock">
                            <div class="discount">
                                <label for="">請輸入優惠瑪</label>
                                <div class="discountSubmitBlock">
                                    <input type="text" placeholder="優惠瑪『123』折扣6980" > <div class="discountSubmit">送出</div>
                                </div>
                            </div>
                        </div>
                        <div class="checkoutList">
                            <div class="checkoutListItemBlock">
                                <div class="checkoutListItem">
                                    <div class="checkoutListItemTitle">運費</div>
                                    <div class="checkoutShipping">NT$<span>180</span></div>
                                </div>
                                <div class="checkoutListItem">
                                    <div class="checkoutListItemTitle">折扣</div>
                                    <div class="checkoutDiscount">-NT$<span>0</span></div>
                                </div>
                                <div class="checkoutListItem">
                                    <div class="checkoutListItemTitle">手續費</div>
                                    <div class="checkoutHandlingFee">NT$<span>0</span></div>
                                </div>
                                <div class="checkoutListItem">
                                    <div class="checkoutListItemTitle">商品金額小計</div>
                                    <div class="checkoutPrice">NT$<span></span></div>
                                </div>
                            </div>
                            
                        </div>
                        
                    </div>
                    <div class="lastPriceBLock">
                        <div class="lastPriceTitle">共<span></span>項商品</div>
                        <div class="lastPrice">
                            NT$<span>0</span>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
        <div class="clientNewsBlock">
            <form action="" class="clientForm">
                <div class="orderNewsBlock">
                    <div class="orderNewsTitle">訂購人資訊</div>
                    <div class="orderItem">
                        <label for="orderName">姓名</label>
                        <input type="text" id="orderName"  placeholder="請輸入您的姓名">
                    </div>
                    <div class="orderItem">
                        <label for="">手機</label>
                        <input type="text" id="orderPhone" placeholder="請輸入您的聯絡電話">
                    </div>
                    <div class="orderItem">
                        <label for="">聯絡地址</label>
                        <input type="text" id="orderAddress" placeholder="請輸入您的聯絡資訊">
                    </div>
                    <div class="orderItem">
                        <label for="">聯絡信箱</label>
                        <input type="text" id="orderEmail" placeholder="請輸入您的聯絡信箱">
                    </div>
                </div>
                <div class="consigneeBlock">
                    <div class="consigneeTitle">收件人資訊</div>
                    <input type="checkbox" class="consigneeCheck">同訂購人資料
                    <div class="consigneeItem">
                        <label for="">姓名</label>
                        <input type="text" id="consigneeName" placeholder="請輸入您的姓名" >
                    </div>
                    <div class="consigneeItem">
                        <label for="">手機</label>
                        <input type="text" id="consigneePhone" placeholder="請輸入您的聯絡電話">
                    </div>
                    <div class="consigneeItem">
                        <label for="">聯絡地址</label>
                        <input type="text" id="consigneeAddress" placeholder="請輸入您的聯絡資訊">
                    </div>
                    <div class="consigneeItem">
                        <label for="">聯絡信箱</label>
                        <input type="text" id="consigneeEmail" placeholder="請輸入您的聯絡信箱">
                    </div>
                </div>
                <div class="payMethodBlock">
                    <div class="payMethodTitle">付款方式</div>
                    <select name="" id="payMethod" class="inputArrowStyle">
                        <option value="">線上付款</option>
                        <option value="">超商取貨付款</option>
                    </select>
                </div>
                <div class="shipMethodBlock">
                    <div class="shipMethodTitle">運送方式</div>
                    <select name="" id="shipMethod" class="inputArrowStyle">
                        <option value="">宅配配送</option>
                        <option value="">超商取貨</option>
                    </select>
                </div>
                <div class="remarksBlock">
                    <div class="remarksTitle">備註</div>
                    <textarea name="" id="remarks" cols="30" rows="5" placeholder="備註"></textarea>
                </div>
                <div class="formButtonBar">
                    <a href="" class="keepShopping">繼續購物</a>
                    <div class="orderCompleted">完成訂單</div>
                </div>

                
            </form>
        </div>
        
        
        


    </div>
    <!-- footer 區域 -->
    <div class="footerBlock">
        <div class="footer">
            <div class="footerTitle">
                <img src="../img/logoBlack.png" alt="">
            </div>
            <div class="footerContent">
                營業時間
                <br>
                週一~週六10：00~21：00(週休公休)
                <br>
                服務條款　隱私條款　購物須知
                <br>
                訂購專線：04-1234-1234
                <br>
                地址：台中市西屯區
                <br>
                Copyright © 2020橘碼光彩 reserved
            </div>
            <div class="webDesignCompany">網站設計-橘野數位設計</div>
        </div>
    </div>

    <script src="../js/jquery-3.5.1.min.js"></script>
    <script src="../js/header.js"></script>
    <script src="../js/slick.js"></script>
    <script>

    </script>
    <script>
        // 讀取執行
        $(document).ready(function(){
            var listItemTotal = 0
            var lastPrice =0
            var amount =$(".shoppingListItem").length
            $('.shoppingListItemTotal span').each(function(){
                lastPrice += parseInt($(this).text())
            })
            $(".checkoutPrice span").text(lastPrice + parseInt($(".checkoutShipping span").text()) - parseInt($(".checkoutDiscount span").text())- parseInt($(".checkoutHandlingFee span").text()))
            $(".checkoutDiscount span").text(parseInt($(".shoppingListItemDiscount span").text()))
            $(".lastPrice span").text(lastPrice + parseInt($(".checkoutShipping span").text()) - parseInt($(".checkoutDiscount span").text())- parseInt($(".checkoutHandlingFee span").text()))
            $(".lastPriceTitle span").text(amount)

        })
        // 優惠瑪送出
        $(".discountSubmit").click(function(){
            var promoCode = 0
            var lastPrice =0
            if($(".shoppingListItem").length > 0){
                    promoCode = $(this).siblings("input").val()
                if(promoCode == "123"){
                    $(".checkoutDiscount span").text(parseInt(6980))
                }
                else if(promoCode == ''){
                    $(".checkoutDiscount span").text(parseInt(0))
                }
                else{
                    alert("無此優惠瑪")
                    return false;
                }
                $('.shoppingListItemTotal span').each(function(){
                    lastPrice += parseInt($(this).text())
                })
                $(".checkoutPrice span").text(lastPrice + parseInt($(".checkoutShipping span").text()) - parseInt($(".checkoutDiscount span").text()) - parseInt($(".checkoutHandlingFee span").text()))
                $(".lastPrice span").text(lastPrice + parseInt($(".checkoutShipping span").text()) - parseInt($(".checkoutDiscount span").text()) - parseInt($(".checkoutHandlingFee span").text()))
            
            }
            else{
                alert("購物車沒有東西")
            }
            })

        // 增加按鈕
        $(".shoppingListItemAdd").click(function(){
            var listItemTotal = 0
            var lastPrice = 0
            $(this).siblings(".shoppingListItemQuantity").text(parseInt($(this).siblings(".shoppingListItemQuantity").text())+1)
            listItemTotal = parseInt($(this).parents(".shoppingListItem").find(".shoppingListItemPrice span").text()) * parseInt($(this).siblings(".shoppingListItemQuantity").text())
            $(this).parents(".shoppingListItem").find(".shoppingListItemTotal span").text(listItemTotal)
            $('.shoppingListItemTotal span').each(function(){
                lastPrice += parseInt($(this).text())
            })
            $(".checkoutPrice span").text(lastPrice + parseInt($(".checkoutShipping span").text()) - parseInt($(".checkoutDiscount span").text()) - parseInt($(".checkoutHandlingFee span").text()))
            $(".lastPrice span").text(lastPrice + parseInt($(".checkoutShipping span").text()) - parseInt($(".checkoutDiscount span").text()) - parseInt($(".checkoutHandlingFee span").text()))


        })
        // 減少按鈕
        $(".shoppingListItemLess").click(function(){
            
            if($(this).siblings(".shoppingListItemQuantity").text() > 0){
                var listItemTotal = 0
                var lastPrice =0
                $(this).siblings(".shoppingListItemQuantity").text(parseInt($(this).siblings(".shoppingListItemQuantity").text())-1)
                listItemTotal = parseInt($(this).parents(".shoppingListItem").find(".shoppingListItemPrice span").text()) * parseInt($(this).siblings(".shoppingListItemQuantity").text())
                $(this).parents(".shoppingListItem").find(".shoppingListItemTotal span").text(listItemTotal)
                $('.shoppingListItemTotal span').each(function(){
                    lastPrice += parseInt($(this).text())
                })
                
                $(".checkoutPrice span").text(lastPrice + parseInt($(".checkoutShipping span").text()) - parseInt($(".checkoutDiscount span").text())- parseInt($(".checkoutHandlingFee span").text()))
                $(".lastPrice span").text(lastPrice + parseInt($(".checkoutShipping span").text()) - parseInt($(".checkoutDiscount span").text())- parseInt($(".checkoutHandlingFee span").text()))
                
            }
        })
        // 刪除按鈕
        $(".shoppingListItemDelete").click(function(){
            var lastPrice =0
            var amount =$(".shoppingListItem").length
            $(".lastPriceTitle span").text(amount-1)
            $(this).parents(".shoppingListItem").remove()
            $('.shoppingListItemTotal span').each(function(){
                lastPrice += parseInt($(this).text())
            })
            if((amount-1) == 0 ){
                $(".checkoutShipping span").text(0)
                $(".checkoutDiscount span").text(0)
                $(".checkoutPrice span").text(0)
                $(".lastPrice span").text(0)
            }
            else{
                $(".checkoutPrice span").text(lastPrice + parseInt($(".checkoutShipping span").text()) - parseInt($(".checkoutDiscount span").text()) - parseInt($(".checkoutHandlingFee span").text()))
                $(".lastPrice span").text(lastPrice + parseInt($(".checkoutShipping span").text()) - parseInt($(".checkoutDiscount span").text()) - parseInt($(".checkoutHandlingFee span").text()))

            }
            
        })
        // 相同資料
        // if($('.consigneeCheck').attr('checked',true)){
        //     alert("123")

        //     $("#consigneeName").text($("#orderName").text())
        // }
        $(".consigneeCheck").click(function(){
            // alert("123")
            $("#consigneeName").val($("#orderName").val())
            $("#consigneePhone").val($("#orderPhone").val())
            $("#consigneeAddress").val($("#orderAddress").val())
            $("#consigneeEmail").val($("#orderEmail").val())
        })
        
        
        // 表單驗證
        var chineseNameCheck = /^[\u4E00-\u9FA5]+$/;
        var phoneCheck = /^[0][9]\d{8}$/
        var emailCheck = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
 
        $(".orderCompleted").click(function(){
            if($("#orderName").val() =="" | chineseNameCheck.test($("#orderName").val()) == false){
                $("#orderName").addClass("inputWatermark")
                $("#orderName").val("名字不符合格式")
                return false;
            }
            
            if($("#orderPhone").val() =="" | phoneCheck.test($("#orderPhone").val()) == false){
                $("#orderPhone").addClass("inputWatermark")
                $("#orderPhone").val("電話不符合格式")
                return false;
            }
            if($("#orderEmail").val() =="" | emailCheck.test($("#orderEmail").val()) == false){
                $("#orderEmail").addClass("inputWatermark")
                $("#orderEmail").val("信箱不符合格式")
                return false;
            }
            if($("#consigneeName").val() =="" | chineseNameCheck.test($("#consigneeName").val()) == false){
                $("#consigneeName").addClass("inputWatermark")
                $("#consigneeName").val("名字不符合格式")
                return false;
            }
            
            if($("#consigneePhone").val() =="" | phoneCheck.test($("#consigneePhone").val()) == false){
                $("#consigneePhone").addClass("inputWatermark")
                $("#consigneePhone").val("電話不符合格式")
                return false;
            }
            if($("#consigneeEmail").val() =="" | emailCheck.test($("#consigneeEmail").val()) == false){
                $("#consigneeEmail").addClass("inputWatermark")
                $("#consigneeEmail").val("信箱不符合格式")
                return false;
            }
           
            else {
                $(".clientForm").submit();
            }
        })

        $("#orderName").click(function(){
            if($(this).hasClass("inputWatermark")){
                $(this).val("")
                $(this).removeClass("inputWatermark")
            }
        })
        $("#orderPhone").click(function(){
            if($(this).hasClass("inputWatermark")){
                $(this).val("")
                $(this).removeClass("inputWatermark")
            }
        })
        $("#orderEmail").click(function(){
            if($(this).hasClass("inputWatermark")){
                $(this).val("")
                $(this).removeClass("inputWatermark")
            }
        })

        $("#consigneeName").click(function(){
            if($(this).hasClass("inputWatermark")){
                $(this).val("")
                $(this).removeClass("inputWatermark")
            }
        })
        $("#consigneePhone").click(function(){
            if($(this).hasClass("inputWatermark")){
                $(this).val("")
                $(this).removeClass("inputWatermark")
            }
        })
        $("#consigneeEmail").click(function(){
            if($(this).hasClass("inputWatermark")){
                $(this).val("")
                $(this).removeClass("inputWatermark")
            }
        })
        
        
    </script>


</body>
</html>